{"remainingRequest":"C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\src\\pages\\login\\LoginAttributes.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\src\\pages\\login\\LoginAttributes.vue","mtime":1604217662000},{"path":"C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1602893211453},{"path":"C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1597332929808},{"path":"C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1602893211453},{"path":"C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1602893217884}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTG9naW5BdHRyaWJ1dGVzJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9naW46IG51bGwsCiAgICAgIHBhc3N3b3JkOiBudWxsLAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsnVVNFUiddKSwKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGxvZ0luKCkgewogICAgICBpZiAoIXRoaXMuaXNFcnJvcigpKSB7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5VU0VSKTsKICAgICAgICBhd2FpdCB0aGlzLkdFVF9VU0VSKHsgbG9naW46IHRoaXMubG9naW4sIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkfSk7CiAgICAgICAgaWYgKHRoaXMuVVNFUikgewogICAgICAgICAgY29uc29sZS5sb2codGhpcy5VU0VSKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VySWQnLCB0aGlzLlVTRVIuaWQpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3JvbGUnLCB0aGlzLlVTRVIucm9sZSk7CiAgICAgICAgICBjb25zdCByb3V0ZXJOYW1lID0gdGhpcy5VU0VSLnJvbGUudG9Mb3dlckNhc2UoKTsKICAgICAgICAgIGF3YWl0IHRoaXMuJHJvdXRlci5wdXNoKHJvdXRlck5hbWUpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGlzRXJyb3IoKSB7CiAgICAgIGlmICh0aGlzLiRyZWZzLmlucHV0X2xvZ2luICYmIHRoaXMuJHJlZnMuaW5wdXRfcGFzc3dvcmQpIHsKICAgICAgICBjb25zdCBpc0xvZ2luTnVsbCA9IHRoaXMuJHJlZnMuaW5wdXRfbG9naW4uJHYuJGVycm9yOwogICAgICAgIGNvbnN0IGlzUGFzc3dvcmROdWxsID0gdGhpcy4kcmVmcy5pbnB1dF9wYXNzd29yZC4kdi4kZXJyb3I7CiAgICAgICAgcmV0dXJuIGlzTG9naW5OdWxsIHx8IGlzUGFzc3dvcmROdWxsOwogICAgICB9CiAgICAgIHJldHVybiB0cnVlOwogICAgfSwKICAgIC4uLm1hcEFjdGlvbnMoWydHRVRfVVNFUiddICApLAogIH0sCn0K"},{"version":3,"sources":["LoginAttributes.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LoginAttributes.vue","sourceRoot":"src/pages/login","sourcesContent":["<template>\n  <form class=\"login-container\">\n    <div class=\"create\">\n      Авторизоваться\n    </div>\n    <custom-input\n        ref=\"input_login\"\n        type=\"text\"\n        placeholder=\"Login\"\n        v-model=\"login\"\n    />\n    <custom-input\n        ref=\"input_password\"\n        type=\"password\"\n        placeholder=\"Password\"\n        v-model=\"password\"\n    />\n    <div>\n      <button\n          class=\"button\"\n          :class=\"{ 'disabled': isError() }\"\n          type=\"button\"\n          @click=\"logIn()\"\n      >\n        Авторизоваться\n      </button>\n    </div>\n    <div class=\"account\">\n      <a href=\"\" class=\"source\" @click.prevent=\"$router.push({ name: 'registration' })\">\n        Зарегистрироваться\n      </a>\n    </div>\n  </form>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex';\n\nexport default {\n  name: 'LoginAttributes',\n  data() {\n    return {\n      login: null,\n      password: null,\n    };\n  },\n  computed: {\n    ...mapGetters(['USER']),\n  },\n  methods: {\n    async logIn() {\n      if (!this.isError()) {\n        console.log(this.USER);\n        await this.GET_USER({ login: this.login, password: this.password});\n        if (this.USER) {\n          console.log(this.USER);\n          localStorage.setItem('userId', this.USER.id);\n          localStorage.setItem('role', this.USER.role);\n          const routerName = this.USER.role.toLowerCase();\n          await this.$router.push(routerName);\n        }\n      }\n    },\n    isError() {\n      if (this.$refs.input_login && this.$refs.input_password) {\n        const isLoginNull = this.$refs.input_login.$v.$error;\n        const isPasswordNull = this.$refs.input_password.$v.$error;\n        return isLoginNull || isPasswordNull;\n      }\n      return true;\n    },\n    ...mapActions(['GET_USER']  ),\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n\n\n.login-container\n  margin-top: 220px\n  width: 380px\n  background: #FFFFFF\n  display: grid\n  grid-template-rows: 60px 50px 50px 50px 50px 40px 800px\n  grid-template-columns: 100%\n  grid-gap: 20px\n\n.create\n  display: flex\n  justify-content: center\n  align-items: center\n  color: #000000\n  font-style: normal\n  font-weight: bold\n  font-size: 14px\n  line-height: 17px\n  text-transform: uppercase\n\n.agreement\n  display: flex\n  align-items: flex-start\n  justify-content: space-between\n\n  .agreement-text\n    margin-left: 10px\n    color: #000000\n    line-height: 17px\n\n.button\n  width: 100%\n  height: 100%\n  outline: none\n  background: #5843BE\n  border-radius: 10px\n  font-weight: bold\n  line-height: 17px\n  color:  #FFFFFF\n  text-transform: capitalize\n  cursor: pointer\n  border-color: transparent\n\n  &:hover\n    background: #6346EF\n\n  &:active\n    background: #3D28A7\n\n  &.disabled\n    background: #cccc\n    cursor: default\n\n.account\n  margin-top: -10px\n  display: flex\n  flex-direction: column\n  line-height: 17px\n\n.source\n  &:link\n    color: #000000\n</style>"]}]}