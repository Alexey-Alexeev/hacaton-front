{"remainingRequest":"C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\src\\pages\\teacher\\task-crud\\TeacherTask.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\src\\pages\\teacher\\task-crud\\TeacherTask.vue","mtime":1604217662000},{"path":"C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1602893211453},{"path":"C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1597332929808},{"path":"C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1602893211453},{"path":"C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1602893217884}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKCmltcG9ydCBodHRwIGZyb20gJ0AvaHR0cC9odHRwJzsKCmltcG9ydCBUZWFjaGVyVGFzayBmcm9tICdAL2RvbWFpbi9UZWFjaGVyVGFzayc7CmltcG9ydCBUZXN0VGFzayBmcm9tICdAL2RvbWFpbi9UZXN0VGFzayc7CmltcG9ydCByb3V0ZSBmcm9tICdAL21peGlucy9yb3V0ZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1RlYWNoZXJUYXNrJywKICBtaXhpbnM6IFtyb3V0ZV0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhc2s6IG51bGwsCiAgICAgIGNsYXNzTGlzdDogW10sCiAgICB9CiAgfSwKICBhc3luYyBjcmVhdGVkKCkgewogICAgdGhpcy5jbGFzc0xpc3QgPSBhd2FpdCBodHRwLmdldENsYXNzTGlzdCgpOwogICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLnRhc2sgPSB0aGlzLlRFQUNIRVJfVEFTS19MSVNULmZpbmQodGFzayA9PiB0YXNrLmlkID09PSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpOwogICAgICB9LCA2MCk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLnRhc2sgPSBuZXcgVGVhY2hlclRhc2soKTsKICAgICAgdGhpcy50YXNrLnRlc3RUYXNrTGlzdC5wdXNoKG5ldyBUZXN0VGFzaygpKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsnVEVBQ0hFUl9UQVNLX0xJU1QnLCAnVEVBQ0hFUiddKSwKICB9LAogIG1ldGhvZHM6IHsKICAgIGNsZWFyKCkgewogICAgICB0aGlzLnRhc2sudGVzdFRhc2tMaXN0ID0gW3sgaW5wdXQ6IG51bGwsIG91dHB1dDogbnVsbCB9XTsKICAgIH0sCiAgICBhc3luYyBzYXZlVGFzaygpIHsKICAgICAgdGhpcy50YXNrLnRlYWNoZXJJZCA9IHRoaXMuVEVBQ0hFUi5pZDsKICAgICAgY29uc3QgaXNTYXZlZCA9IGF3YWl0IGh0dHAuc2F2ZVRhc2sodGhpcy50YXNrKTsKICAgICAgaWYgKGlzU2F2ZWQpIHsKICAgICAgICBjb25zdCBmb3VuZFRhc2sgPSB0aGlzLlRFQUNIRVJfVEFTS19MSVNULmZpbmQodHMgPT4gdHMuaWQpOwogICAgICAgIGlmICghZm91bmRUYXNrKSB7CiAgICAgICAgICB0aGlzLlRFQUNIRVJfVEFTS19MSVNULnB1c2godGhpcy50YXNrKTsKICAgICAgICB9CiAgICAgICAgYXdhaXQgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAndGVhY2hlcicgfSk7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVUYWIoZSwgcHJvcE5hbWUpIHsKICAgICAgaWYgKGUua2V5ID09PSAnVGFiJykgewogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICB0aGlzLnRhc2tbcHJvcE5hbWVdID0gdGhpcy50YXNrW3Byb3BOYW1lXS5jb25jYXQoJyAgJyk7CiAgICAgIH0KICAgIH0sCiAgICBhZGROZXdUZXN0RGF0YSgpIHsKICAgICAgdGhpcy50YXNrLnRlc3RUYXNrTGlzdC5wdXNoKG5ldyBUZXN0VGFzaygpKTsKICAgIH0KICB9LAp9Cg=="},{"version":3,"sources":["TeacherTask.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TeacherTask.vue","sourceRoot":"src/pages/teacher/task-crud","sourcesContent":["<template>\n  <div v-if=\"task && isRouteAvailable('TEACHER')\" class=\"task-container\">\n\n    <div class=\"main-info\">\n      <div class=\"task-info\">\n        Задание\n        <input class=\"input input-name\" v-model=\"task.name\">\n        Легенда\n        <textarea\n            class=\"description input\"\n            v-model=\"task.legend\"\n            placeholder=\"Легенда (необязательное поле)\"\n            @keydown=\"handleTab($event, 'legend')\"/>\n        Условие задания\n        <textarea\n            class=\"description input\"\n            v-model=\"task.description\"\n            placeholder=\"Опишите задачу\"\n            @keydown=\"handleTab($event, 'description')\"/>\n      </div>\n      <div class=\"test-data-space\">\n        <div\n            v-for=\"(data, key) in task.testTaskList\"\n            class=\"test-data\"\n            :key=\"`input_${data.input}_${key}_output_${data.output}_${key}`\"\n        >\n          <span class=\"test-data-title\"> {{ `Чекер ${key + 1}` }} </span>\n          Входные данные\n          <input\n              id=\"input\"\n              class=\"input input-task\"\n              :value=\"data.input\"\n              @change=\"data.input = $event.target.value\"\n              :key=\"`input_${data.input}_${key}`\"\n          >\n          Выходные данные\n          <input\n              class=\"input input-task\"\n              :value=\"data.output\"\n              @change=\"data.output = $event.target.value\"\n              :key=\"`output_${data.output}_${key}`\"\n          >\n        </div>\n        <div class=\"icon-add-overlay add-first\" @click.stop=\"addNewTestData()\">\n          <custom-icon name=\"plus\" color=\"#00D1FF\" />\n        </div>\n      </div>\n      <div class=\"class-select\">\n        Выберите класс\n        <tree-select\n            style=\"margin-top: 10px\"\n            valueFormat=\"Object\"\n            v-model=\"task.classSchoolboyList\"\n            :options=\"classList\"\n            multiple\n            placeholder=\"\">\n          <div slot=\"value-label\" slot-scope=\"{ node }\">{{ node.raw.name }}</div>\n          <label slot=\"option-label\" slot-scope=\"{ node, labelClassName}\" :class=\"labelClassName\">\n            {{ node.raw.name }}\n          </label>\n        </tree-select>\n      </div>\n    </div>\n\n    <div class=\"task-action\">\n      <div\n          class=\"button-review\"\n          @click=\"saveTask\"\n      >\n        Сохранить\n      </div>\n      <div\n          class=\"button-clear\"\n          @click=\"clear\"\n      >\n        Сбросить\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\n\nimport http from '@/http/http';\n\nimport TeacherTask from '@/domain/TeacherTask';\nimport TestTask from '@/domain/TestTask';\nimport route from '@/mixins/route';\n\nexport default {\n  name: 'TeacherTask',\n  mixins: [route],\n  data() {\n    return {\n      task: null,\n      classList: [],\n    }\n  },\n  async created() {\n    this.classList = await http.getClassList();\n    if (this.$route.params.id) {\n      setTimeout(() => {\n        this.task = this.TEACHER_TASK_LIST.find(task => task.id === this.$route.params.id);\n      }, 60);\n    } else {\n      this.task = new TeacherTask();\n      this.task.testTaskList.push(new TestTask());\n    }\n  },\n  computed: {\n    ...mapGetters(['TEACHER_TASK_LIST', 'TEACHER']),\n  },\n  methods: {\n    clear() {\n      this.task.testTaskList = [{ input: null, output: null }];\n    },\n    async saveTask() {\n      this.task.teacherId = this.TEACHER.id;\n      const isSaved = await http.saveTask(this.task);\n      if (isSaved) {\n        const foundTask = this.TEACHER_TASK_LIST.find(ts => ts.id);\n        if (!foundTask) {\n          this.TEACHER_TASK_LIST.push(this.task);\n        }\n        await this.$router.push({ name: 'teacher' });\n      }\n    },\n    handleTab(e, propName) {\n      if (e.key === 'Tab') {\n        e.preventDefault();\n        this.task[propName] = this.task[propName].concat('  ');\n      }\n    },\n    addNewTestData() {\n      this.task.testTaskList.push(new TestTask());\n    }\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n  .task-container\n    width: 100vw\n    background: #000000\n\n  .main-info\n    display: flex\n    flex-wrap: nowrap\n    height: 80.6vh\n    font-weight: 600\n    font-size: 18px\n    line-height: 22px\n\n  .task-info\n    width: 25vw\n    padding: 30px\n    background: #463698\n    display: flex\n    flex-direction: column\n    overflow: auto\n\n  .description\n    margin-top: 10px\n    padding: 20px\n    min-height: 300px\n\n  .test-data-space\n    width: 55vw\n    padding: 30px 20px\n    background: #352872\n    overflow: auto\n\n  .test-data\n    display: flex\n    flex-direction: column\n    &:not(:first-child)\n      margin-top: 20px\n\n  .test-data-title\n    font-size: 22px\n    margin-bottom: 20px\n\n  .input-task\n    width: 460px\n    margin-top: 15px\n    line-height: 48px\n    padding-left: 20px\n\n  .class-select\n    width: 20vw\n    padding: 20px\n    background: #120D26\n    line-height: 40px\n\n  .task-action\n    height: 9.7vh\n    margin-left: 25vw\n    display: flex\n    align-items: center\n    column-gap: 20px\n\n\n  .input\n    background: #5843BE\n    border-radius: 10px\n    outline: none\n    border: none\n    resize: none\n    color: #FFFFFF\n    margin-bottom: 10px\n\n  .input-name\n    margin-top: 5px\n    padding: 20px\n    line-height: 10px\n\n    &::placeholder\n      color: #FFFFFF\n      opacity: 0.8\n\n  .icon-add-overlay\n    border-radius: 10px\n    border: 2px solid #00D1FF\n    padding: 10px\n    width: fit-content\n    cursor: pointer\n\n  .add-first\n    margin-bottom: 60px\n</style>"]}]}