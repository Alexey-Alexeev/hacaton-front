{"remainingRequest":"C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\src\\pages\\teacher\\task-crud\\TeacherTask.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\src\\pages\\teacher\\task-crud\\TeacherTask.vue","mtime":1604217662000},{"path":"C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1602893211453},{"path":"C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1597332929808},{"path":"C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1602893211453},{"path":"C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1602893217884}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6L1VzZXJzL0FsZXhleS9EZXNrdG9wL1x1MDQxQlx1MDQyNlx1MDQyMi9ray9oYWNhdG9uLWZyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvQWxleGV5L0Rlc2t0b3AvXHUwNDFCXHUwNDI2XHUwNDIyL2trL2hhY2F0b24tZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCBodHRwIGZyb20gJ0AvaHR0cC9odHRwJzsKaW1wb3J0IFRlYWNoZXJUYXNrIGZyb20gJ0AvZG9tYWluL1RlYWNoZXJUYXNrJzsKaW1wb3J0IFRlc3RUYXNrIGZyb20gJ0AvZG9tYWluL1Rlc3RUYXNrJzsKaW1wb3J0IHJvdXRlIGZyb20gJ0AvbWl4aW5zL3JvdXRlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdUZWFjaGVyVGFzaycsCiAgbWl4aW5zOiBbcm91dGVdLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YXNrOiBudWxsLAogICAgICBjbGFzc0xpc3Q6IFtdCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBodHRwLmdldENsYXNzTGlzdCgpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF90aGlzLmNsYXNzTGlzdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGlmIChfdGhpcy4kcm91dGUucGFyYW1zLmlkKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMudGFzayA9IF90aGlzLlRFQUNIRVJfVEFTS19MSVNULmZpbmQoZnVuY3Rpb24gKHRhc2spIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFzay5pZCA9PT0gX3RoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9LCA2MCk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF90aGlzLnRhc2sgPSBuZXcgVGVhY2hlclRhc2soKTsKCiAgICAgICAgICAgICAgICBfdGhpcy50YXNrLnRlc3RUYXNrTGlzdC5wdXNoKG5ldyBUZXN0VGFzaygpKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbJ1RFQUNIRVJfVEFTS19MSVNUJywgJ1RFQUNIRVInXSkpLAogIG1ldGhvZHM6IHsKICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHsKICAgICAgdGhpcy50YXNrLnRlc3RUYXNrTGlzdCA9IFt7CiAgICAgICAgaW5wdXQ6IG51bGwsCiAgICAgICAgb3V0cHV0OiBudWxsCiAgICAgIH1dOwogICAgfSwKICAgIHNhdmVUYXNrOiBmdW5jdGlvbiBzYXZlVGFzaygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgaXNTYXZlZCwgZm91bmRUYXNrOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczIudGFzay50ZWFjaGVySWQgPSBfdGhpczIuVEVBQ0hFUi5pZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBodHRwLnNhdmVUYXNrKF90aGlzMi50YXNrKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgaXNTYXZlZCA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghaXNTYXZlZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZvdW5kVGFzayA9IF90aGlzMi5URUFDSEVSX1RBU0tfTElTVC5maW5kKGZ1bmN0aW9uICh0cykgewogICAgICAgICAgICAgICAgICByZXR1cm4gdHMuaWQ7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBpZiAoIWZvdW5kVGFzaykgewogICAgICAgICAgICAgICAgICBfdGhpczIuVEVBQ0hFUl9UQVNLX0xJU1QucHVzaChfdGhpczIudGFzayk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAndGVhY2hlcicKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBoYW5kbGVUYWI6IGZ1bmN0aW9uIGhhbmRsZVRhYihlLCBwcm9wTmFtZSkgewogICAgICBpZiAoZS5rZXkgPT09ICdUYWInKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHRoaXMudGFza1twcm9wTmFtZV0gPSB0aGlzLnRhc2tbcHJvcE5hbWVdLmNvbmNhdCgnICAnKTsKICAgICAgfQogICAgfSwKICAgIGFkZE5ld1Rlc3REYXRhOiBmdW5jdGlvbiBhZGROZXdUZXN0RGF0YSgpIHsKICAgICAgdGhpcy50YXNrLnRlc3RUYXNrTGlzdC5wdXNoKG5ldyBUZXN0VGFzaygpKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["TeacherTask.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div v-if=\"task && isRouteAvailable('TEACHER')\" class=\"task-container\">\n\n    <div class=\"main-info\">\n      <div class=\"task-info\">\n        Задание\n        <input class=\"input input-name\" v-model=\"task.name\">\n        Легенда\n        <textarea\n            class=\"description input\"\n            v-model=\"task.legend\"\n            placeholder=\"Легенда (необязательное поле)\"\n            @keydown=\"handleTab($event, 'legend')\"/>\n        Условие задания\n        <textarea\n            class=\"description input\"\n            v-model=\"task.description\"\n            placeholder=\"Опишите задачу\"\n            @keydown=\"handleTab($event, 'description')\"/>\n      </div>\n      <div class=\"test-data-space\">\n        <div\n            v-for=\"(data, key) in task.testTaskList\"\n            class=\"test-data\"\n            :key=\"`input_${data.input}_${key}_output_${data.output}_${key}`\"\n        >\n          <span class=\"test-data-title\"> {{ `Чекер ${key + 1}` }} </span>\n          Входные данные\n          <input\n              id=\"input\"\n              class=\"input input-task\"\n              :value=\"data.input\"\n              @change=\"data.input = $event.target.value\"\n              :key=\"`input_${data.input}_${key}`\"\n          >\n          Выходные данные\n          <input\n              class=\"input input-task\"\n              :value=\"data.output\"\n              @change=\"data.output = $event.target.value\"\n              :key=\"`output_${data.output}_${key}`\"\n          >\n        </div>\n        <div class=\"icon-add-overlay add-first\" @click.stop=\"addNewTestData()\">\n          <custom-icon name=\"plus\" color=\"#00D1FF\" />\n        </div>\n      </div>\n      <div class=\"class-select\">\n        Выберите класс\n        <tree-select\n            style=\"margin-top: 10px\"\n            valueFormat=\"Object\"\n            v-model=\"task.classSchoolboyList\"\n            :options=\"classList\"\n            multiple\n            placeholder=\"\">\n          <div slot=\"value-label\" slot-scope=\"{ node }\">{{ node.raw.name }}</div>\n          <label slot=\"option-label\" slot-scope=\"{ node, labelClassName}\" :class=\"labelClassName\">\n            {{ node.raw.name }}\n          </label>\n        </tree-select>\n      </div>\n    </div>\n\n    <div class=\"task-action\">\n      <div\n          class=\"button-review\"\n          @click=\"saveTask\"\n      >\n        Сохранить\n      </div>\n      <div\n          class=\"button-clear\"\n          @click=\"clear\"\n      >\n        Сбросить\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\n\nimport http from '@/http/http';\n\nimport TeacherTask from '@/domain/TeacherTask';\nimport TestTask from '@/domain/TestTask';\nimport route from '@/mixins/route';\n\nexport default {\n  name: 'TeacherTask',\n  mixins: [route],\n  data() {\n    return {\n      task: null,\n      classList: [],\n    }\n  },\n  async created() {\n    this.classList = await http.getClassList();\n    if (this.$route.params.id) {\n      setTimeout(() => {\n        this.task = this.TEACHER_TASK_LIST.find(task => task.id === this.$route.params.id);\n      }, 60);\n    } else {\n      this.task = new TeacherTask();\n      this.task.testTaskList.push(new TestTask());\n    }\n  },\n  computed: {\n    ...mapGetters(['TEACHER_TASK_LIST', 'TEACHER']),\n  },\n  methods: {\n    clear() {\n      this.task.testTaskList = [{ input: null, output: null }];\n    },\n    async saveTask() {\n      this.task.teacherId = this.TEACHER.id;\n      const isSaved = await http.saveTask(this.task);\n      if (isSaved) {\n        const foundTask = this.TEACHER_TASK_LIST.find(ts => ts.id);\n        if (!foundTask) {\n          this.TEACHER_TASK_LIST.push(this.task);\n        }\n        await this.$router.push({ name: 'teacher' });\n      }\n    },\n    handleTab(e, propName) {\n      if (e.key === 'Tab') {\n        e.preventDefault();\n        this.task[propName] = this.task[propName].concat('  ');\n      }\n    },\n    addNewTestData() {\n      this.task.testTaskList.push(new TestTask());\n    }\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n  .task-container\n    width: 100vw\n    background: #000000\n\n  .main-info\n    display: flex\n    flex-wrap: nowrap\n    height: 80.6vh\n    font-weight: 600\n    font-size: 18px\n    line-height: 22px\n\n  .task-info\n    width: 25vw\n    padding: 30px\n    background: #463698\n    display: flex\n    flex-direction: column\n    overflow: auto\n\n  .description\n    margin-top: 10px\n    padding: 20px\n    min-height: 300px\n\n  .test-data-space\n    width: 55vw\n    padding: 30px 20px\n    background: #352872\n    overflow: auto\n\n  .test-data\n    display: flex\n    flex-direction: column\n    &:not(:first-child)\n      margin-top: 20px\n\n  .test-data-title\n    font-size: 22px\n    margin-bottom: 20px\n\n  .input-task\n    width: 460px\n    margin-top: 15px\n    line-height: 48px\n    padding-left: 20px\n\n  .class-select\n    width: 20vw\n    padding: 20px\n    background: #120D26\n    line-height: 40px\n\n  .task-action\n    height: 9.7vh\n    margin-left: 25vw\n    display: flex\n    align-items: center\n    column-gap: 20px\n\n\n  .input\n    background: #5843BE\n    border-radius: 10px\n    outline: none\n    border: none\n    resize: none\n    color: #FFFFFF\n    margin-bottom: 10px\n\n  .input-name\n    margin-top: 5px\n    padding: 20px\n    line-height: 10px\n\n    &::placeholder\n      color: #FFFFFF\n      opacity: 0.8\n\n  .icon-add-overlay\n    border-radius: 10px\n    border: 2px solid #00D1FF\n    padding: 10px\n    width: fit-content\n    cursor: pointer\n\n  .add-first\n    margin-bottom: 60px\n</style>"],"sourceRoot":"src/pages/teacher/task-crud"}]}