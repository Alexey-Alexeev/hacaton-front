{"remainingRequest":"C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\src\\pages\\registration\\RegistrationAttributes.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\src\\pages\\registration\\RegistrationAttributes.vue","mtime":1604217662000},{"path":"C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1602893211453},{"path":"C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1597332929808},{"path":"C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1602893211453},{"path":"C:\\Users\\Alexey\\Desktop\\ЛЦТ\\kk\\hacaton-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1602893217884}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBodHRwIGZyb20gJ0AvaHR0cC9odHRwJzsKCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKCmltcG9ydCBBZ3JlZW1lbnRJY29uIGZyb20gJ0AvcGFnZXMvcmVnaXN0cmF0aW9uL0FncmVlbWVudEljb24nOwppbXBvcnQgeyBjcmVhdGVHdWlkIH0gZnJvbSAnQC91dGlscy91dGlscyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1JlZ2lzdHJhdGlvbkF0dHJpYnV0ZXMnLAogIGNvbXBvbmVudHM6IHsKICAgIEFncmVlbWVudEljb24KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2dpbjogbnVsbCwKICAgICAgcGFzc3dvcmQ6IG51bGwsCiAgICAgIGVtYWlsOiBudWxsLAogICAgICBuYW1lOiBudWxsLAogICAgICBiaXJ0aGRheTpudWxsLAogICAgICBlZHU6bnVsbCwKICAgICAgaXNUZWFjaGVyOiBmYWxzZSwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbJ1VTRVInXSksCiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyByZWdpc3RyYXRpb24oKSB7CiAgICAgIGlmICghdGhpcy5pc0Vycm9yKCkpIHsKICAgICAgICBjb25zdCBmaW9BcnJheSA9IHRoaXMubmFtZS5zcGxpdCgnICcpOwogICAgICAgIGNvbnN0IHNlY29uZE5hbWUgPSBmaW9BcnJheVswXTsKICAgICAgICBjb25zdCBmaXJzdE5hbWUgPSBmaW9BcnJheVsxXTsKICAgICAgICBjb25zdCBtaWRkbGVOYW1lID0gZmlvQXJyYXlbMl07CgogICAgICAgIGNvbnN0IHVzZXIgPSB7CiAgICAgICAgICBpZDogY3JlYXRlR3VpZCgpLAogICAgICAgICAgc2Vjb25kTmFtZSwKICAgICAgICAgIGZpcnN0TmFtZSwKICAgICAgICAgIG1pZGRsZU5hbWUsCiAgICAgICAgICBsb2dpbjogdGhpcy5sb2dpbiwKICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkLAogICAgICAgICAgZW1haWw6IHRoaXMuZW1haWwsCiAgICAgICAgICBiaXJ0aGRheTogdGhpcy5iaXJ0aGRheSwKICAgICAgICAgIGVkdTogdGhpcy5lZHUsCiAgICAgICAgICByb2xlOiB0aGlzLmlzVGVhY2hlciA/ICdURUFDSEVSJyA6ICdTQ0hPT0xCT1knLAogICAgICAgIH07CiAgICAgICAgYXdhaXQgaHR0cC5zYXZlVXNlcih1c2VyKTsKICAgICAgfQogICAgfSwKICAgIGlzRXJyb3IoKSB7CiAgICAgIGlmICh0aGlzLiRyZWZzLmlucHV0X2xvZ2luICYmIHRoaXMuJHJlZnMuaW5wdXRfcGFzc3dvcmQpIHsKICAgICAgICBjb25zdCBpc0xvZ2luTnVsbCA9IHRoaXMuJHJlZnMuaW5wdXRfbG9naW4uJHYuJGVycm9yOwogICAgICAgIGNvbnN0IGlzUGFzc3dvcmROdWxsID0gdGhpcy4kcmVmcy5pbnB1dF9wYXNzd29yZC4kdi4kZXJyb3I7CiAgICAgICAgcmV0dXJuIGlzTG9naW5OdWxsIHx8IGlzUGFzc3dvcmROdWxsOwogICAgICB9CiAgICAgIHJldHVybiB0cnVlOwogICAgfSwKICAgIC4uLm1hcEFjdGlvbnMoWydHRVRfVVNFUiddKSwKICB9LAp9Cg=="},{"version":3,"sources":["RegistrationAttributes.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RegistrationAttributes.vue","sourceRoot":"src/pages/registration","sourcesContent":["<template>\n  <form class=\"login-container\">\n    <div class=\"create\">\n      Создать учетную запись\n    </div>\n    <custom-input\n        ref=\"input_login\"\n        type=\"text\"\n        placeholder=\"Login\"\n        v-model=\"login\"\n    />\n    <custom-input\n        ref=\"input_password\"\n        type=\"password\"\n        placeholder=\"Password\"\n        v-model=\"password\"\n    />\n     <custom-input\n        ref=\"input_mail\"\n        type=\"text\"\n        placeholder=\"E-mail\"\n        v-model=\"email\"\n    />\n    <custom-input\n        ref=\"input_name\"\n        type=\"text\"\n        placeholder=\"ФИО\"\n        v-model=\"name\"\n    />\n     <custom-input\n        ref=\"input_birthday\"\n        type=\"date\"\n        placeholder=\"Дата \"\n        v-model=\"birthday\">\n     </custom-input>\n    <custom-input\n        ref=\"input_edu_org\"\n        type=\"text\"\n        placeholder=\"Образовательная организация\"\n        v-model=\"edu\"\n    />\n     <div class=\"agreement\">\n      <agreement-icon  v-model=\"isTeacher\"/>\n      <span class=\"agreement-text\">\n          Вы учитель?\n      </span>\n    </div>\n    <div class=\"agreement\">\n      <agreement-icon/>\n      <span class=\"agreement-text\">\n          Нажимая на кнопку “Регистрация” , вы принимаете условия пользовательского соглашения\n      </span>\n    </div>\n    <div>\n      <button\n          class=\"button\"\n          :class=\"{ 'disabled': isError() }\"\n          type=\"button\"\n          @click=\"registration()\"\n      >\n        Регистрация\n      </button>\n    </div>\n    <div class=\"account\">\n      Уже есть аккаунт?\n      <a class=\"source\" href=\"\" @click.prevent=\"$router.push({ name: 'login'})\">\n        Авторизоваться\n      </a>\n    </div>\n  </form>\n</template>\n\n<script>\nimport http from '@/http/http';\n\nimport { mapActions, mapGetters } from 'vuex';\n\nimport AgreementIcon from '@/pages/registration/AgreementIcon';\nimport { createGuid } from '@/utils/utils';\n\nexport default {\n  name: 'RegistrationAttributes',\n  components: {\n    AgreementIcon\n  },\n  data() {\n    return {\n      login: null,\n      password: null,\n      email: null,\n      name: null,\n      birthday:null,\n      edu:null,\n      isTeacher: false,\n    };\n  },\n  computed: {\n    ...mapGetters(['USER']),\n  },\n  methods: {\n    async registration() {\n      if (!this.isError()) {\n        const fioArray = this.name.split(' ');\n        const secondName = fioArray[0];\n        const firstName = fioArray[1];\n        const middleName = fioArray[2];\n\n        const user = {\n          id: createGuid(),\n          secondName,\n          firstName,\n          middleName,\n          login: this.login,\n          password: this.password,\n          email: this.email,\n          birthday: this.birthday,\n          edu: this.edu,\n          role: this.isTeacher ? 'TEACHER' : 'SCHOOLBOY',\n        };\n        await http.saveUser(user);\n      }\n    },\n    isError() {\n      if (this.$refs.input_login && this.$refs.input_password) {\n        const isLoginNull = this.$refs.input_login.$v.$error;\n        const isPasswordNull = this.$refs.input_password.$v.$error;\n        return isLoginNull || isPasswordNull;\n      }\n      return true;\n    },\n    ...mapActions(['GET_USER']),\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.login-container\n  margin-top: 110px\n  width: 380px\n  background: #FFFFFF\n  display: grid\n  grid-template-rows: 60px 50px 50px 50px 50px 50px 50px 20px 50px 50px 40px\n  grid-template-columns: 100%\n  grid-gap: 20px\n\n.create\n  display: flex\n  justify-content: center\n  align-items: center\n  color: #000000\n  font-style: normal\n  font-weight: bold\n  font-size: 14px\n  line-height: 17px\n  text-transform: uppercase\n\n.agreement\n  display: flex\n  align-items: center\n\n  .agreement-text\n    margin-left: 10px\n    color: #000000\n    line-height: 17px\n\n.button\n  width: 100%\n  height: 100%\n  outline: none\n  background: #5843BE\n  border-radius: 10px\n  font-weight: bold\n  line-height: 17px\n  color:  #FFFFFF\n  text-transform: capitalize\n  cursor: pointer\n  border-color: transparent\n\n  &:hover\n    background: #6346EF\n\n  &:active\n    background: #3D28A7\n\n  &.disabled\n    background: #cccc\n    cursor: default\n\n.account\n  margin-top: -5px\n  display: flex\n  flex-direction: column\n  line-height: 17px\n\n.source\n  &:link\n    color: #000000\n</style>"]}]}